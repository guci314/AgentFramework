# 代码风格和规范

## Python 风格
- **类型提示**: 全面的类型注解（使用 typing 模块）
- **文档字符串**: 详细的类和方法文档（中文/英文）
- **类结构**: 关注点分离清晰，使用描述性名称
- **变量命名**: 变量/函数使用 snake_case，类使用 PascalCase

## 导入组织
1. 标准库导入
2. 第三方库导入
3. 本地导入
4. 按功能分组

## 代码模式
- **装饰器**: 用于内存管理和功能增强
- **错误处理**: 全面的 try-catch 块
- **日志记录**: 多级别日志（DEBUG、INFO、WARNING、ERROR）
- **断言**: 任务完成验证

## 文档
- 实现细节使用中文（中文）内联注释
- 公共 API 使用英文文档字符串
- 指南和教程使用 Markdown 文件
- 文档中包含代码示例

## 测试模式
- 使用 unittest.TestCase 进行结构化测试
- setUp/tearDown 用于测试初始化
- 全面的断言
- 包含成功和失败场景
- 对外部依赖使用 Mock 对象

## 内存管理
- 受保护消息系统
- 操作前进行 token 计数
- 自动内存减少装饰器
- 内存压缩策略

## 代理开发
- 继承 AgentBase 获得基本功能
- 实现流式方法以获得实时反馈
- 使用 StatefulExecutor 进行代码执行
- 使用自然语言前置条件管理依赖