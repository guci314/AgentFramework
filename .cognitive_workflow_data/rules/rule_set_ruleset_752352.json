{
  "id": "ruleset_752352",
  "goal": "\n    开发一个简单的计算器程序，要求：\n    1. 实现加减乘除四个基本运算\n    2. 编写完整的单元测试\n    3. 运行测试，确保测试通过\n    4. 生成使用说明文档，使用markdown格式，文件保存在calculator.md\n    5. 文件保存在calculator.py\n    ",
  "rules": [
    {
      "id": "rule_002359",
      "name": "implement_calculator",
      "condition": "IF 需求已明确，需要实现计算器功能",
      "action": "THEN 编写calculator.py文件，实现加减乘除四个基本运算的函数",
      "agent_name": "coder",
      "priority": 100,
      "phase": "execution",
      "expected_outcome": "完成calculator.py文件，包含四个基本运算功能的实现",
      "metadata": {}
    },
    {
      "id": "recovery_463410",
      "name": "markdown_syntax_fix_and_retry",
      "condition": "当文档生成失败且错误原因包含Markdown语法错误时",
      "action": "1. 修正Markdown语法错误（确保所有代码块闭合）\n2. 添加文件保存验证日志\n3. 重新执行生成任务",
      "agent_name": "coder",
      "priority": 95,
      "phase": "execution",
      "expected_outcome": "生成格式正确的calculator.md文件，包含完整的使用说明内容",
      "metadata": {}
    },
    {
      "id": "rule_014957",
      "name": "analyze_requirements",
      "condition": "IF 需要开发一个简单的计算器程序",
      "action": "THEN 分析需求，确认需要实现加减乘除四个基本运算，编写单元测试，生成使用说明文档，并确定文件保存位置",
      "agent_name": "coder",
      "priority": 90,
      "phase": "information_gathering",
      "expected_outcome": "明确计算器程序的功能需求和非功能需求",
      "metadata": {}
    },
    {
      "id": "recovery_396824",
      "name": "filesystem_permission_check",
      "condition": "当文档生成失败且涉及文件保存问题时",
      "action": "1. 检查当前目录写入权限\n2. 验证文件是否被其他进程锁定\n3. 尝试使用绝对路径保存文件",
      "agent_name": "coder",
      "priority": 85,
      "phase": "execution",
      "expected_outcome": "确认文件系统可正常写入，排除权限问题导致的保存失败",
      "metadata": {}
    }
  ],
  "version": 1,
  "status": "active",
  "modification_history": []
}